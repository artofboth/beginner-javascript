<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>

  </title>
  <link rel="stylesheet" href="../../base.css">
</head>

<body>
  <script>
    const toppings = ['Mushrooms ', 'Tomatoes', 'Eggs', 'Chili', 'Lettuce', 'Avocado', 'Chiles', 'Bacon', 'Pickles',
      'Onions', 'Cheese'
    ];

    const buns = ['egg', 'wonder', 'brioche'];

    const meats = {
      beyond: 10,
      beef: 5,
      pork: 7
    };

    const prices = {
      hotDog: 453,
      burger: 765,
      sausage: 634,
      corn: 234,
    };

    const orderTotals = [342, 1002, 523, 34, 634, 854, 1644, 2222];

    const feedback = [{
        comment: 'Love the burgs',
        rating: 4
      },
      {
        comment: 'Horrible Service',
        rating: 2
      },
      {
        comment: 'Smoothies are great, liked the burger too',
        rating: 5
      },
      {
        comment: 'Ambiance needs work',
        rating: 3
      },
      {
        comment: 'I DONT LIKE BURGERS',
        rating: 1
      },
    ];


    /*
      Static Methods
    */

    // Array.of();
    const myArray = Array.of(12);
    console.log(myArray);

    // Make a function that creates a range from x to y with Array.from();
    // Check if the last array you created is really an array with Array.isArray();

    const arrayFromRange = function (target, x, y) {
      const arrayCopy = Array.from(target);
      const newArray = target.splice(x -= 1, y += 1);
      const isArray = Array.isArray(newArray);
      console.log(newArray, isArray);
    }

    //arrayFromRange(toppings, 3, 4);

    // Take the meats object and make three arrays with Object.entries(), Object.keys, Object.values()

    const meatArrays = meatArrays => {
      const meatEntries = Array(...Object.entries(meats));
      const meatKeys = Array(...Object.keys(meats));
      const meatValues = Array(...Object.values(meats));
      console.log(meatEntries);
      console.log(meatKeys);
      console.log(meatValues);
    }
    meatArrays();

    /*
      Instance Methods
    */

    // Display all bun types with " or " - use join()
    const jointBuns = buns.join(' or ');
    console.log(jointBuns);

    // We have a string "hot dogs,hamburgers,sausages,corn" - use split() to turn it into a string
    const menuString = "hot dogs,hamburgers,sausages,corn"
    const menu = menuString.split(',');
    console.log(menu);

    // // take the last item off toppings with pop()
    // toppings.pop();

    // // add it back with push()
    // toppings.push('Cheese');
    // console.log(toppings);

    // // take the first item off toppings with shift()
    // toppings.shift();
    // console.log(toppings);

    // // add it back in with unshift()
    // toppings.unshift('Mushrooms');
    // console.log(toppings);

    // Do the last four,but immutable (with spreads and new variables)
    const changeArray = function (originalArray, task) {
      const arrayCopy = Array(...originalArray);
      console.clear();
      console.log(arrayCopy);

      let index = 0;
      let item = originalArray[index];

      switch (task) {
        case 'push':
          index = 5;
          item = originalArray[index];
          arrayCopy.push(item);
          break;

        case 'pop':
          arrayCopy.pop();
          break;

        case 'shift':
          arrayCopy.shift();
          break;

        case 'unshift':
          index = 0;
          arrayCopy.unshift(item);
          break;

        default:
          return ('not valid');
      }

      return arrayCopy;
    }

    result = changeArray(toppings, 'pop');
    console.log(result);

    // Make a copy of the toppings array with slice()
    const toppingsSlice = toppings.slice(0, (toppings.length));

    // Make a copy of the toppings array with a spread
    const toppingsCopy = Array(...toppings);

    // take out items 3 to 5 of your new toppings array with splice()
    toppingsCopy.splice(2, 3);

    // find the index of Avocado with indexOf() / lastIndexOf()
    console.log(toppings.lastIndexOf('Avocado'));
    console.log(toppings.indexOf('Avocado'));

    // Check if hot sauce is in the toppings with includes()
    const hotSauce = toppings.includes('Hot Sauce');
    // add it if it's not
    if (!hotSauce) toppings.push('Hot Sauce');


    // flip those toppings around with reverse()
    toppings.reverse();
    console.log(toppings);

    /*
      Callback Methods
    */

    console.clear();
    // find the first rating that talks about a burger with find()
    //It calls a function that returns true or false when it finds the argument it wants

    //You can turn this function into an arrow function:
    // function findBurgRating(singleFeedback) {
    //   return singleFeedback.comment.includes('burg');
    // }

    //And go one step further and make the return implicit: 
    // const findBurgRating = (singleFeedback) => {
    //   return singleFeedback.comment.includes('burg');
    // }

    // const findBurgRating = (singleFeedback) => singleFeedback.comment.includes('burg');

    //Going one step further, we can create a function within a function, that will take whatever word we want to search for: 

    function findByWord(word) {
      return function (singleFeedback) {
        return singleFeedback.comment.includes(word);
      }
    }

    const burgRating = feedback.find(findByWord('burg'));
    console.log(burgRating);

    // const burgRating = feedback.find(burgers => feedback.comment.includes('burg'));

    // find all ratings that are above 2 with filter()
    const aboveTwo = feedback.filter(singleFeedback => singleFeedback.rating > 2);

    // find all ratings that talk about a burger with filter()
    const filterBurger = feedback.filter(findByWord('burg'));


    // Remove the one star rating however you like!
    const aboveOne = feedback.filter(singleFeedback => singleFeedback.rating !== 1);

    // check if there is at least 5 of one type of meat with some()
    const meatQtyArray = Object.values(meats);
    const singleQtyEnough = meatQtyArray.some(value => value >= 5);

    // make sure we have at least 3 of every meat with every()
    const everyMeat = meatQtyArray.every(value => value >= 3);
    console.log(everyMeat);

    // sort the toppings alphabetically with sort()
    const sortedToppings = toppings.sort();
    console.log(sortedToppings);

    // Sort the order totals from most expensive to least with .sort()
    // Because sort() sorts things alphabetically, in order to sort numbers you need to pass it a function that compares each item against the one next to it and swaps their places according to wether they are larger or smaller than each other. 

    const sortNumber = (firstItem, secondItem) => firstItem - secondItem;
    const sortOrders = orderTotals.sort(sortNumber);

    // Sort the prices with sort()
    //In this case we use Object.entries so that we can keep each item's name and price together as an array. We then use the same logic as the function that sorts numbers (above), except we make sure to select each array's second item (the price) like so:
    const pricesArray = Object.entries(prices);
    const sortPrices = pricesArray.sort(function (a, b) {
      const aPrice = a[1];
      const bPrice = b[1];
      return aPrice - bPrice;
    });

    //We can then use Object.fromEntries to turn the above back into a regular object
    console.table(Object.fromEntries(sortPrices));
  </script>
</body>

</html>